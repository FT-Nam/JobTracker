# üóÑÔ∏è JobTracker Database Schema

## üìã T·ªïng quan Database

JobTracker s·ª≠ d·ª•ng **MySQL 8.0** l√†m database ch√≠nh v·ªõi thi·∫øt k·∫ø normalized ƒë·ªÉ ƒë·∫£m b·∫£o t√≠nh to√†n v·∫πn d·ªØ li·ªáu v√† hi·ªáu su·∫•t truy v·∫•n.

### üéØ Thi·∫øt k·∫ø nguy√™n t·∫Øc
- **Normalization**: 3NF ƒë·ªÉ tr√°nh redundancy
- **UUID Primary Keys**: S·ª≠ d·ª•ng STRING cho t·∫•t c·∫£ primary keys
- **Indexing**: T·ªëi ∆∞u cho c√°c truy v·∫•n th∆∞·ªùng xuy√™n
- **Foreign Keys**: ƒê·∫£m b·∫£o referential integrity v·ªõi UUID
- **Audit Fields**: Tracking t·∫•t c·∫£ thay ƒë·ªïi v·ªõi full audit trail
- **Soft Delete**: Kh√¥ng x√≥a d·ªØ li·ªáu th·ª±c t·∫ø v·ªõi deleted_at

### üÜî **UUID IMPLEMENTATION STRATEGY**
- **Primary Keys**: STRING v·ªõi UUID() function
- **Foreign Keys**: STRING references
- **Indexing**: Optimized cho UUID lookups
- **Performance**: Proper indexing cho UUID queries
- **Security**: UUIDs kh√¥ng th·ªÉ guess ƒë∆∞·ª£c

## üèóÔ∏è Database Schema

### 1. Lookup Tables (B·∫£ng tra c·ª©u)

#### 1.1. Roles Table (B·∫£ng vai tr√≤)
```sql
CREATE TABLE roles (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID vai tr√≤',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n vai tr√≤',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ vai tr√≤',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Vai tr√≤ ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.2. Permissions Table (B·∫£ng quy·ªÅn)
```sql
CREATE TABLE permissions (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID quy·ªÅn',
    name VARCHAR(100) NOT NULL UNIQUE COMMENT 'T√™n quy·ªÅn',
    resource VARCHAR(100) NOT NULL COMMENT 'T√†i nguy√™n',
    action VARCHAR(50) NOT NULL COMMENT 'H√†nh ƒë·ªông (CREATE, READ, UPDATE, DELETE)',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ quy·ªÅn',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Quy·ªÅn ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_resource_action (resource, action),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.3. Job Statuses Table (B·∫£ng tr·∫°ng th√°i c√¥ng vi·ªác)
```sql
CREATE TABLE job_statuses (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID tr·∫°ng th√°i',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n tr·∫°ng th√°i',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ tr·∫°ng th√°i',
    color VARCHAR(7) DEFAULT '#6B7280' COMMENT 'M√†u hi·ªÉn th·ªã (hex)',
    sort_order INT DEFAULT 0 COMMENT 'Th·ª© t·ª± s·∫Øp x·∫øp',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Tr·∫°ng th√°i ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_sort_order (sort_order),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.4. Job Types Table (B·∫£ng lo·∫°i c√¥ng vi·ªác)
```sql
CREATE TABLE job_types (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID lo·∫°i c√¥ng vi·ªác',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n lo·∫°i c√¥ng vi·ªác',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ lo·∫°i c√¥ng vi·ªác',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Lo·∫°i ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.5. Priorities Table (B·∫£ng ƒë·ªô ∆∞u ti√™n)
```sql
CREATE TABLE priorities (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID ƒë·ªô ∆∞u ti√™n',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n ƒë·ªô ∆∞u ti√™n',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    level INT NOT NULL COMMENT 'M·ª©c ƒë·ªô ∆∞u ti√™n (1-4)',
    color VARCHAR(7) DEFAULT '#6B7280' COMMENT 'M√†u hi·ªÉn th·ªã (hex)',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ ƒë·ªô ∆∞u ti√™n',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'ƒê·ªô ∆∞u ti√™n ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_level (level),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.6. Experience Levels Table (B·∫£ng c·∫•p ƒë·ªô kinh nghi·ªám)
```sql
CREATE TABLE experience_levels (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID c·∫•p ƒë·ªô kinh nghi·ªám',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n c·∫•p ƒë·ªô',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    min_years INT DEFAULT 0 COMMENT 'S·ªë nƒÉm kinh nghi·ªám t·ªëi thi·ªÉu',
    max_years INT COMMENT 'S·ªë nƒÉm kinh nghi·ªám t·ªëi ƒëa',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ c·∫•p ƒë·ªô',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'C·∫•p ƒë·ªô ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_min_years (min_years),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.7. Interview Types Table (B·∫£ng lo·∫°i ph·ªèng v·∫•n)
```sql
CREATE TABLE interview_types (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID lo·∫°i ph·ªèng v·∫•n',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n lo·∫°i ph·ªèng v·∫•n',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ lo·∫°i ph·ªèng v·∫•n',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Lo·∫°i ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.8. Interview Statuses Table (B·∫£ng tr·∫°ng th√°i ph·ªèng v·∫•n)
```sql
CREATE TABLE interview_statuses (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID tr·∫°ng th√°i ph·ªèng v·∫•n',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n tr·∫°ng th√°i',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ tr·∫°ng th√°i',
    color VARCHAR(7) DEFAULT '#6B7280' COMMENT 'M√†u hi·ªÉn th·ªã (hex)',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Tr·∫°ng th√°i ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.9. Interview Results Table (B·∫£ng k·∫øt qu·∫£ ph·ªèng v·∫•n)
```sql
CREATE TABLE interview_results (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID k·∫øt qu·∫£ ph·ªèng v·∫•n',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n k·∫øt qu·∫£',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ k·∫øt qu·∫£',
    color VARCHAR(7) DEFAULT '#6B7280' COMMENT 'M√†u hi·ªÉn th·ªã (hex)',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'K·∫øt qu·∫£ ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.10. Notification Types Table (B·∫£ng lo·∫°i th√¥ng b√°o)
```sql
CREATE TABLE notification_types (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID lo·∫°i th√¥ng b√°o',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n lo·∫°i th√¥ng b√°o',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ lo·∫°i th√¥ng b√°o',
    template VARCHAR(500) COMMENT 'Template th√¥ng b√°o',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Lo·∫°i ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

#### 1.11. Notification Priorities Table (B·∫£ng ƒë·ªô ∆∞u ti√™n th√¥ng b√°o)
```sql
CREATE TABLE notification_priorities (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID ƒë·ªô ∆∞u ti√™n th√¥ng b√°o',
    name VARCHAR(50) NOT NULL UNIQUE COMMENT 'T√™n ƒë·ªô ∆∞u ti√™n',
    display_name VARCHAR(100) NOT NULL COMMENT 'T√™n hi·ªÉn th·ªã',
    level INT NOT NULL COMMENT 'M·ª©c ƒë·ªô ∆∞u ti√™n (1-4)',
    color VARCHAR(7) DEFAULT '#6B7280' COMMENT 'M√†u hi·ªÉn th·ªã (hex)',
    description VARCHAR(255) COMMENT 'M√¥ t·∫£ ƒë·ªô ∆∞u ti√™n',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'ƒê·ªô ∆∞u ti√™n ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_level (level),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 2. Users Table (B·∫£ng ng∆∞·ªùi d√πng)

```sql
CREATE TABLE users (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID ng∆∞·ªùi d√πng',
    email VARCHAR(255) NOT NULL UNIQUE COMMENT 'Email ƒëƒÉng nh·∫≠p',
    password VARCHAR(255) COMMENT 'M·∫≠t kh·∫©u ƒë√£ hash (null n·∫øu d√πng OAuth)',
    first_name VARCHAR(100) NOT NULL COMMENT 'T√™n',
    last_name VARCHAR(100) NOT NULL COMMENT 'H·ªç',
    phone VARCHAR(20) COMMENT 'S·ªë ƒëi·ªán tho·∫°i',
    avatar_url VARCHAR(500) COMMENT 'URL ·∫£nh ƒë·∫°i di·ªán',
    role_id STRING NOT NULL COMMENT 'UUID vai tr√≤ ng∆∞·ªùi d√πng',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Tr·∫°ng th√°i ho·∫°t ƒë·ªông',
    email_verified BOOLEAN DEFAULT FALSE COMMENT 'Email ƒë√£ x√°c th·ª±c',
    google_id VARCHAR(100) UNIQUE COMMENT 'Google OAuth ID',
    last_login_at TIMESTAMP NULL COMMENT 'L·∫ßn ƒëƒÉng nh·∫≠p cu·ªëi',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE RESTRICT,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_email (email),
    INDEX idx_google_id (google_id),
    INDEX idx_role_id (role_id),
    INDEX idx_created_at (created_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 3. Companies Table (B·∫£ng c√¥ng ty)

```sql
CREATE TABLE companies (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID c√¥ng ty',
    name VARCHAR(255) NOT NULL COMMENT 'T√™n c√¥ng ty',
    website VARCHAR(500) COMMENT 'Website c√¥ng ty',
    industry VARCHAR(100) COMMENT 'Lƒ©nh v·ª±c ho·∫°t ƒë·ªông',
    size VARCHAR(50) COMMENT 'Quy m√¥ c√¥ng ty (STARTUP, SMALL, MEDIUM, LARGE, ENTERPRISE)',
    location VARCHAR(255) COMMENT 'ƒê·ªãa ch·ªâ c√¥ng ty',
    description TEXT COMMENT 'M√¥ t·∫£ c√¥ng ty',
    logo_url VARCHAR(500) COMMENT 'URL logo c√¥ng ty',
    is_verified BOOLEAN DEFAULT FALSE COMMENT 'C√¥ng ty ƒë√£ x√°c th·ª±c',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_industry (industry),
    INDEX idx_size (size),
    INDEX idx_created_at (created_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 4. Jobs Table (B·∫£ng c√¥ng vi·ªác)

```sql
CREATE TABLE jobs (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID c√¥ng vi·ªác',
    user_id STRING NOT NULL COMMENT 'UUID ng∆∞·ªùi d√πng s·ªü h·ªØu',
    company_id STRING NOT NULL COMMENT 'UUID c√¥ng ty',
    title VARCHAR(255) NOT NULL COMMENT 'Ti√™u ƒë·ªÅ c√¥ng vi·ªác',
    position VARCHAR(255) NOT NULL COMMENT 'V·ªã tr√≠ ·ª©ng tuy·ªÉn',
    job_type_id STRING NOT NULL COMMENT 'UUID lo·∫°i c√¥ng vi·ªác',
    location VARCHAR(255) COMMENT 'ƒê·ªãa ƒëi·ªÉm l√†m vi·ªác',
    salary_min DECIMAL(12,2) COMMENT 'M·ª©c l∆∞∆°ng t·ªëi thi·ªÉu',
    salary_max DECIMAL(12,2) COMMENT 'M·ª©c l∆∞∆°ng t·ªëi ƒëa',
    currency VARCHAR(3) DEFAULT 'USD' COMMENT 'ƒê∆°n v·ªã ti·ªÅn t·ªá',
    status_id STRING NOT NULL COMMENT 'UUID tr·∫°ng th√°i ·ª©ng tuy·ªÉn',
    application_date DATE COMMENT 'Ng√†y n·ªôp ƒë∆°n',
    deadline_date DATE COMMENT 'H·∫°n n·ªôp ƒë∆°n',
    interview_date DATE COMMENT 'Ng√†y ph·ªèng v·∫•n',
    offer_date DATE COMMENT 'Ng√†y nh·∫≠n offer',
    job_description TEXT COMMENT 'M√¥ t·∫£ c√¥ng vi·ªác',
    requirements TEXT COMMENT 'Y√™u c·∫ßu c√¥ng vi·ªác',
    benefits TEXT COMMENT 'Quy·ªÅn l·ª£i',
    job_url VARCHAR(500) COMMENT 'URL tin tuy·ªÉn d·ª•ng',
    notes TEXT COMMENT 'Ghi ch√∫ c√° nh√¢n',
    priority_id STRING NOT NULL COMMENT 'UUID ƒë·ªô ∆∞u ti√™n',
    is_remote BOOLEAN DEFAULT FALSE COMMENT 'L√†m vi·ªác t·ª´ xa',
    experience_level_id STRING COMMENT 'UUID c·∫•p ƒë·ªô kinh nghi·ªám',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE RESTRICT,
    FOREIGN KEY (job_type_id) REFERENCES job_types(id) ON DELETE RESTRICT,
    FOREIGN KEY (status_id) REFERENCES job_statuses(id) ON DELETE RESTRICT,
    FOREIGN KEY (priority_id) REFERENCES priorities(id) ON DELETE RESTRICT,
    FOREIGN KEY (experience_level_id) REFERENCES experience_levels(id) ON DELETE SET NULL,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_user_id (user_id),
    INDEX idx_company_id (company_id),
    INDEX idx_job_type_id (job_type_id),
    INDEX idx_status_id (status_id),
    INDEX idx_priority_id (priority_id),
    INDEX idx_experience_level_id (experience_level_id),
    INDEX idx_application_date (application_date),
    INDEX idx_deadline_date (deadline_date),
    INDEX idx_created_at (created_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at),
    
    INDEX idx_user_status (user_id, status_id),
    INDEX idx_user_created (user_id, created_at),
    INDEX idx_deadline_status (deadline_date, status_id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 5. Skills Table (B·∫£ng k·ªπ nƒÉng)

```sql
CREATE TABLE skills (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID k·ªπ nƒÉng',
    name VARCHAR(100) NOT NULL UNIQUE COMMENT 'T√™n k·ªπ nƒÉng',
    category VARCHAR(50) NOT NULL COMMENT 'Danh m·ª•c k·ªπ nƒÉng (PROGRAMMING, FRAMEWORK, DATABASE, TOOL, LANGUAGE, SOFT_SKILL, OTHER)',
    description TEXT COMMENT 'M√¥ t·∫£ k·ªπ nƒÉng',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'K·ªπ nƒÉng ƒëang ho·∫°t ƒë·ªông',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_name (name),
    INDEX idx_category (category),
    INDEX idx_is_active (is_active),
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 6. Job Skills Table (B·∫£ng k·ªπ nƒÉng c√¥ng vi·ªác - Many-to-Many)

```sql
CREATE TABLE job_skills (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    job_id BIGINT NOT NULL COMMENT 'ID c√¥ng vi·ªác',
    skill_id BIGINT NOT NULL COMMENT 'ID k·ªπ nƒÉng',
    is_required BOOLEAN DEFAULT TRUE COMMENT 'K·ªπ nƒÉng b·∫Øt bu·ªôc',
    proficiency_level VARCHAR(50) COMMENT 'M·ª©c ƒë·ªô th√†nh th·∫°o y√™u c·∫ßu (BEGINNER, INTERMEDIATE, ADVANCED, EXPERT)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    created_by BIGINT COMMENT 'Ng∆∞·ªùi t·∫°o',
    is_deleted BOOLEAN DEFAULT FALSE COMMENT 'ƒê√£ x√≥a (soft delete)',
    
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    UNIQUE KEY uk_job_skill (job_id, skill_id),
    INDEX idx_job_id (job_id),
    INDEX idx_skill_id (skill_id),
    INDEX idx_created_by (created_by),
    INDEX idx_is_deleted (is_deleted)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 7. User Skills Table (B·∫£ng k·ªπ nƒÉng ng∆∞·ªùi d√πng)

```sql
CREATE TABLE user_skills (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID user skill',
    user_id STRING NOT NULL COMMENT 'UUID ng∆∞·ªùi d√πng',
    skill_id STRING NOT NULL COMMENT 'UUID k·ªπ nƒÉng',
    proficiency_level VARCHAR(50) NOT NULL COMMENT 'M·ª©c ƒë·ªô th√†nh th·∫°o (BEGINNER, INTERMEDIATE, ADVANCED, EXPERT)',
    years_of_experience DECIMAL(3,1) COMMENT 'S·ªë nƒÉm kinh nghi·ªám',
    is_verified BOOLEAN DEFAULT FALSE COMMENT 'K·ªπ nƒÉng ƒë√£ x√°c th·ª±c',
    
    -- Partial Audit Fields (Junction Table)
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    is_deleted BOOLEAN DEFAULT FALSE COMMENT 'ƒê√£ x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    UNIQUE KEY uk_user_skill (user_id, skill_id),
    INDEX idx_user_id (user_id),
    INDEX idx_skill_id (skill_id),
    INDEX idx_proficiency (proficiency_level),
    INDEX idx_created_by (created_by),
    INDEX idx_is_deleted (is_deleted)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 8. Interviews Table (B·∫£ng ph·ªèng v·∫•n)

```sql
CREATE TABLE interviews (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID ph·ªèng v·∫•n',
    job_id STRING NOT NULL COMMENT 'UUID c√¥ng vi·ªác',
    round_number INT NOT NULL COMMENT 'S·ªë v√≤ng ph·ªèng v·∫•n',
    interview_type_id STRING NOT NULL COMMENT 'UUID lo·∫°i ph·ªèng v·∫•n',
    scheduled_date TIMESTAMP NOT NULL COMMENT 'Th·ªùi gian ph·ªèng v·∫•n d·ª± ki·∫øn',
    actual_date TIMESTAMP NULL COMMENT 'Th·ªùi gian ph·ªèng v·∫•n th·ª±c t·∫ø',
    duration_minutes INT COMMENT 'Th·ªùi l∆∞·ª£ng ph·ªèng v·∫•n (ph√∫t)',
    interviewer_name VARCHAR(255) COMMENT 'T√™n ng∆∞·ªùi ph·ªèng v·∫•n',
    interviewer_email VARCHAR(255) COMMENT 'Email ng∆∞·ªùi ph·ªèng v·∫•n',
    interviewer_position VARCHAR(255) COMMENT 'V·ªã tr√≠ ng∆∞·ªùi ph·ªèng v·∫•n',
    status_id STRING NOT NULL COMMENT 'UUID tr·∫°ng th√°i ph·ªèng v·∫•n',
    result_id STRING COMMENT 'UUID k·∫øt qu·∫£ ph·ªèng v·∫•n',
    feedback TEXT COMMENT 'Ph·∫£n h·ªìi t·ª´ nh√† tuy·ªÉn d·ª•ng',
    notes TEXT COMMENT 'Ghi ch√∫ c√° nh√¢n',
    questions_asked TEXT COMMENT 'C√¢u h·ªèi ƒë∆∞·ª£c h·ªèi',
    answers_given TEXT COMMENT 'C√¢u tr·∫£ l·ªùi ƒë√£ ƒë∆∞a ra',
    rating INT CHECK (rating >= 1 AND rating <= 5) COMMENT 'ƒê√°nh gi√° ch·∫•t l∆∞·ª£ng ph·ªèng v·∫•n (1-5)',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (interview_type_id) REFERENCES interview_types(id) ON DELETE RESTRICT,
    FOREIGN KEY (status_id) REFERENCES interview_statuses(id) ON DELETE RESTRICT,
    FOREIGN KEY (result_id) REFERENCES interview_results(id) ON DELETE SET NULL,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_job_id (job_id),
    INDEX idx_interview_type_id (interview_type_id),
    INDEX idx_status_id (status_id),
    INDEX idx_result_id (result_id),
    INDEX idx_scheduled_date (scheduled_date),
    INDEX idx_created_at (created_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at),
    
    INDEX idx_job_round (job_id, round_number)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 9. Job Resumes Table (B·∫£ng li√™n k·∫øt CV v·ªõi c√¥ng vi·ªác)

```sql
CREATE TABLE job_resumes (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID job resume',
    job_id STRING NOT NULL COMMENT 'UUID c√¥ng vi·ªác',
    resume_id STRING NOT NULL COMMENT 'UUID CV',
    is_primary BOOLEAN DEFAULT TRUE COMMENT 'CV ch√≠nh ƒë∆∞·ª£c s·ª≠ d·ª•ng',
    
    -- Partial Audit Fields (Junction Table)
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    is_deleted BOOLEAN DEFAULT FALSE COMMENT 'ƒê√£ x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (resume_id) REFERENCES resumes(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    UNIQUE KEY uk_job_resume (job_id, resume_id),
    INDEX idx_job_id (job_id),
    INDEX idx_resume_id (resume_id),
    INDEX idx_created_by (created_by),
    INDEX idx_is_deleted (is_deleted)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 10. Resumes Table (B·∫£ng CV)

```sql
CREATE TABLE resumes (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID CV',
    user_id STRING NOT NULL COMMENT 'UUID ng∆∞·ªùi d√πng s·ªü h·ªØu',
    name VARCHAR(255) NOT NULL COMMENT 'T√™n file CV',
    original_filename VARCHAR(255) NOT NULL COMMENT 'T√™n file g·ªëc',
    file_path VARCHAR(500) NOT NULL COMMENT 'ƒê∆∞·ªùng d·∫´n file tr√™n Dropbox',
    file_size BIGINT NOT NULL COMMENT 'K√≠ch th∆∞·ªõc file (bytes)',
    file_type VARCHAR(100) NOT NULL COMMENT 'Lo·∫°i file (pdf, doc, docx)',
    version VARCHAR(50) DEFAULT '1.0' COMMENT 'Phi√™n b·∫£n CV',
    is_default BOOLEAN DEFAULT FALSE COMMENT 'CV m·∫∑c ƒë·ªãnh',
    description TEXT COMMENT 'M√¥ t·∫£ CV',
    tags JSON COMMENT 'Tags ph√¢n lo·∫°i CV (JSON array)',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'CV ƒëang ho·∫°t ƒë·ªông',
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian upload',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_is_default (is_default),
    INDEX idx_is_active (is_active),
    INDEX idx_uploaded_at (uploaded_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 11. Attachments Table (B·∫£ng file ƒë√≠nh k√®m)

```sql
CREATE TABLE attachments (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID file ƒë√≠nh k√®m',
    job_id STRING NOT NULL COMMENT 'UUID c√¥ng vi·ªác',
    user_id STRING NOT NULL COMMENT 'UUID ng∆∞·ªùi d√πng upload',
    filename VARCHAR(255) NOT NULL COMMENT 'T√™n file',
    original_filename VARCHAR(255) NOT NULL COMMENT 'T√™n file g·ªëc',
    file_path VARCHAR(500) NOT NULL COMMENT 'ƒê∆∞·ªùng d·∫´n file tr√™n Dropbox',
    file_size BIGINT NOT NULL COMMENT 'K√≠ch th∆∞·ªõc file (bytes)',
    file_type VARCHAR(100) NOT NULL COMMENT 'Lo·∫°i file',
    attachment_type ENUM('JOB_DESCRIPTION', 'COVER_LETTER', 'CERTIFICATE', 'PORTFOLIO', 'OTHER') NOT NULL COMMENT 'Lo·∫°i file ƒë√≠nh k√®m',
    description TEXT COMMENT 'M√¥ t·∫£ file',
    is_public BOOLEAN DEFAULT FALSE COMMENT 'File c√¥ng khai',
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian upload',
    
    -- Full Audit Fields
    created_by STRING COMMENT 'Ng∆∞·ªùi t·∫°o (FK to users)',
    updated_by STRING COMMENT 'Ng∆∞·ªùi c·∫≠p nh·∫≠t cu·ªëi (FK to users)',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    deleted_at TIMESTAMP NULL COMMENT 'Th·ªùi gian x√≥a (soft delete)',
    
    -- Foreign Keys
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    FOREIGN KEY (updated_by) REFERENCES users(id) ON DELETE SET NULL,
    
    -- Indexes
    INDEX idx_job_id (job_id),
    INDEX idx_user_id (user_id),
    INDEX idx_attachment_type (attachment_type),
    INDEX idx_uploaded_at (uploaded_at),
    INDEX idx_created_by (created_by),
    INDEX idx_updated_by (updated_by),
    INDEX idx_deleted_at (deleted_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 11. Notifications Table (B·∫£ng th√¥ng b√°o)

```sql
CREATE TABLE notifications (
    id STRING PRIMARY KEY DEFAULT (UUID()) COMMENT 'UUID th√¥ng b√°o',
    user_id STRING NOT NULL COMMENT 'UUID ng∆∞·ªùi d√πng nh·∫≠n th√¥ng b√°o',
    job_id STRING NULL COMMENT 'UUID c√¥ng vi·ªác li√™n quan (nullable)',
    type_id STRING NOT NULL COMMENT 'UUID lo·∫°i th√¥ng b√°o',
    title VARCHAR(255) NOT NULL COMMENT 'Ti√™u ƒë·ªÅ th√¥ng b√°o',
    message TEXT NOT NULL COMMENT 'N·ªôi dung th√¥ng b√°o',
    is_read BOOLEAN DEFAULT FALSE COMMENT 'ƒê√£ ƒë·ªçc ch∆∞a',
    is_sent BOOLEAN DEFAULT FALSE COMMENT 'ƒê√£ g·ª≠i ch∆∞a',
    sent_at TIMESTAMP NULL COMMENT 'Th·ªùi gian g·ª≠i',
    scheduled_at TIMESTAMP NULL COMMENT 'Th·ªùi gian l√™n l·ªãch g·ª≠i',
    priority_id STRING NOT NULL COMMENT 'UUID ƒë·ªô ∆∞u ti√™n',
    metadata JSON COMMENT 'D·ªØ li·ªáu b·ªï sung (JSON)',
    
    -- System Table - Only created_at, updated_at (no user tracking)
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    
    -- Foreign Keys
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE SET NULL,
    FOREIGN KEY (type_id) REFERENCES notification_types(id) ON DELETE RESTRICT,
    FOREIGN KEY (priority_id) REFERENCES notification_priorities(id) ON DELETE RESTRICT,
    
    INDEX idx_user_id (user_id),
    INDEX idx_job_id (job_id),
    INDEX idx_type_id (type_id),
    INDEX idx_priority_id (priority_id),
    INDEX idx_is_read (is_read),
    INDEX idx_is_sent (is_sent),
    INDEX idx_scheduled_at (scheduled_at),
    INDEX idx_created_at (created_at),
    
    INDEX idx_user_unread (user_id, is_read),
    INDEX idx_scheduled_unsent (scheduled_at, is_sent)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 12. User Sessions Table (B·∫£ng phi√™n ƒëƒÉng nh·∫≠p)

```sql
CREATE TABLE user_sessions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL COMMENT 'ID ng∆∞·ªùi d√πng',
    session_token VARCHAR(500) NOT NULL UNIQUE COMMENT 'Token phi√™n ƒëƒÉng nh·∫≠p',
    refresh_token VARCHAR(500) NOT NULL UNIQUE COMMENT 'Refresh token',
    device_info JSON COMMENT 'Th√¥ng tin thi·∫øt b·ªã (JSON)',
    ip_address VARCHAR(45) COMMENT 'ƒê·ªãa ch·ªâ IP',
    user_agent TEXT COMMENT 'User agent string',
    is_active BOOLEAN DEFAULT TRUE COMMENT 'Phi√™n ƒëang ho·∫°t ƒë·ªông',
    expires_at TIMESTAMP NOT NULL COMMENT 'Th·ªùi gian h·∫øt h·∫°n',
    last_used_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'L·∫ßn s·ª≠ d·ª•ng cu·ªëi',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian c·∫≠p nh·∫≠t',
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    
    INDEX idx_user_id (user_id),
    INDEX idx_session_token (session_token),
    INDEX idx_refresh_token (refresh_token),
    INDEX idx_is_active (is_active),
    INDEX idx_expires_at (expires_at),
    INDEX idx_last_used_at (last_used_at)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

### 13. Audit Logs Table (B·∫£ng log audit)

```sql
CREATE TABLE audit_logs (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NULL COMMENT 'ID ng∆∞·ªùi d√πng th·ª±c hi·ªán (nullable cho system actions)',
    entity_type VARCHAR(100) NOT NULL COMMENT 'Lo·∫°i entity (User, Job, Company, etc.)',
    entity_id BIGINT NOT NULL COMMENT 'ID c·ªßa entity',
    action VARCHAR(50) NOT NULL COMMENT 'H√†nh ƒë·ªông th·ª±c hi·ªán (CREATE, UPDATE, DELETE, LOGIN, LOGOUT, UPLOAD, DOWNLOAD)',
    old_values JSON COMMENT 'Gi√° tr·ªã c≈© (JSON)',
    new_values JSON COMMENT 'Gi√° tr·ªã m·ªõi (JSON)',
    ip_address VARCHAR(45) COMMENT 'ƒê·ªãa ch·ªâ IP',
    user_agent TEXT COMMENT 'User agent string',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP COMMENT 'Th·ªùi gian t·∫°o',
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL,
    
    INDEX idx_user_id (user_id),
    INDEX idx_entity_type (entity_type),
    INDEX idx_entity_id (entity_id),
    INDEX idx_action (action),
    INDEX idx_created_at (created_at),
    
    INDEX idx_entity_action (entity_type, entity_id, action),
    INDEX idx_user_action (user_id, action)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
```

## üîç Indexes Strategy

### Primary Indexes
- **Primary Keys**: T·∫•t c·∫£ b·∫£ng ƒë·ªÅu c√≥ auto-increment primary key
- **Foreign Keys**: Index cho t·∫•t c·∫£ foreign key constraints
- **Unique Constraints**: Email, Google ID, session tokens

### Performance Indexes
- **Composite Indexes**: Cho c√°c truy v·∫•n ph·ª©c t·∫°p
- **Date Indexes**: Cho filtering v√† sorting theo th·ªùi gian
- **Status Indexes**: Cho filtering theo tr·∫°ng th√°i
- **Search Indexes**: Cho full-text search

### Query Optimization Indexes
```sql
-- Job queries optimization
CREATE INDEX idx_jobs_user_status_date ON jobs(user_id, status, created_at);
CREATE INDEX idx_jobs_deadline_status ON jobs(deadline_date, status);

-- Interview queries optimization  
CREATE INDEX idx_interviews_job_round ON interviews(job_id, round_number);
CREATE INDEX idx_interviews_scheduled_status ON interviews(scheduled_date, status);

-- Notification queries optimization
CREATE INDEX idx_notifications_user_unread ON notifications(user_id, is_read);
CREATE INDEX idx_notifications_scheduled_unsent ON notifications(scheduled_at, is_sent);
```

## üîÑ Database Relationships

### Entity Relationship Diagram
```
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Jobs
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Resumes  
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) User_Skills
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Notifications
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) User_Sessions
Users (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Audit_Logs

Companies (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Jobs

Jobs (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Job_Skills
Jobs (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Interviews
Jobs (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Job_Resumes
Jobs (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Attachments
Jobs (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Notifications

Skills (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Job_Skills
Skills (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) User_Skills

Resumes (1) ‚îÄ‚îÄ‚îÄ‚îÄ (N) Job_Resumes
```

## üìä Sample Data

### Initial Lookup Data

#### Roles Data
```sql
INSERT INTO roles (name, description) VALUES
('USER', 'Regular user with basic permissions'),
('ADMIN', 'Administrator with full system access'),
('MODERATOR', 'Moderator with limited admin permissions');
```

#### Permissions Data
```sql
INSERT INTO permissions (name, resource, action, description) VALUES
('USER_READ', 'USER', 'READ', 'Read user information'),
('USER_CREATE', 'USER', 'CREATE', 'Create new users'),
('USER_UPDATE', 'USER', 'UPDATE', 'Update user information'),
('USER_DELETE', 'USER', 'DELETE', 'Delete users'),
('JOB_READ', 'JOB', 'READ', 'Read job information'),
('JOB_CREATE', 'JOB', 'CREATE', 'Create new jobs'),
('JOB_UPDATE', 'JOB', 'UPDATE', 'Update job information'),
('JOB_DELETE', 'JOB', 'DELETE', 'Delete jobs'),
('COMPANY_READ', 'COMPANY', 'READ', 'Read company information'),
('COMPANY_CREATE', 'COMPANY', 'CREATE', 'Create new companies'),
('COMPANY_UPDATE', 'COMPANY', 'UPDATE', 'Update company information'),
('COMPANY_DELETE', 'COMPANY', 'DELETE', 'Delete companies');
```

#### Job Statuses Data
```sql
INSERT INTO job_statuses (name, display_name, description, color, sort_order) VALUES
('SAVED', 'Saved', 'Job saved but not yet applied', '#6B7280', 1),
('APPLIED', 'Applied', 'Application submitted', '#3B82F6', 2),
('INTERVIEW', 'Interview', 'Interview scheduled or in progress', '#F59E0B', 3),
('OFFER', 'Offer', 'Job offer received', '#10B981', 4),
('REJECTED', 'Rejected', 'Application rejected', '#EF4444', 5),
('WITHDRAWN', 'Withdrawn', 'Application withdrawn', '#8B5CF6', 6),
('ACCEPTED', 'Accepted', 'Job offer accepted', '#059669', 7);
```

#### Job Types Data
```sql
INSERT INTO job_types (name, display_name, description) VALUES
('FULL_TIME', 'Full Time', 'Full-time employment'),
('PART_TIME', 'Part Time', 'Part-time employment'),
('CONTRACT', 'Contract', 'Contract-based work'),
('INTERNSHIP', 'Internship', 'Internship position'),
('FREELANCE', 'Freelance', 'Freelance work');
```

#### Priorities Data
```sql
INSERT INTO priorities (name, display_name, level, color, description) VALUES
('LOW', 'Low', 1, '#6B7280', 'Low priority'),
('MEDIUM', 'Medium', 2, '#3B82F6', 'Medium priority'),
('HIGH', 'High', 3, '#F59E0B', 'High priority'),
('URGENT', 'Urgent', 4, '#EF4444', 'Urgent priority');
```

#### Experience Levels Data
```sql
INSERT INTO experience_levels (name, display_name, min_years, max_years, description) VALUES
('ENTRY', 'Entry Level', 0, 1, 'Entry level position'),
('JUNIOR', 'Junior', 1, 3, 'Junior level position'),
('MID', 'Mid Level', 3, 5, 'Mid level position'),
('SENIOR', 'Senior', 5, 8, 'Senior level position'),
('LEAD', 'Lead', 8, 12, 'Lead level position'),
('PRINCIPAL', 'Principal', 12, NULL, 'Principal level position');
```

#### Interview Types Data
```sql
INSERT INTO interview_types (name, display_name, description) VALUES
('PHONE', 'Phone Interview', 'Phone-based interview'),
('VIDEO', 'Video Interview', 'Video call interview'),
('IN_PERSON', 'In-Person Interview', 'Face-to-face interview'),
('TECHNICAL', 'Technical Interview', 'Technical skills assessment'),
('HR', 'HR Interview', 'Human resources interview'),
('FINAL', 'Final Interview', 'Final round interview');
```

#### Interview Statuses Data
```sql
INSERT INTO interview_statuses (name, display_name, description, color) VALUES
('SCHEDULED', 'Scheduled', 'Interview scheduled', '#3B82F6'),
('COMPLETED', 'Completed', 'Interview completed', '#10B981'),
('CANCELLED', 'Cancelled', 'Interview cancelled', '#EF4444'),
('RESCHEDULED', 'Rescheduled', 'Interview rescheduled', '#F59E0B');
```

#### Interview Results Data
```sql
INSERT INTO interview_results (name, display_name, description, color) VALUES
('PASSED', 'Passed', 'Interview passed', '#10B981'),
('FAILED', 'Failed', 'Interview failed', '#EF4444'),
('PENDING', 'Pending', 'Result pending', '#6B7280');
```

#### Notification Types Data
```sql
INSERT INTO notification_types (name, display_name, description, template) VALUES
('DEADLINE_REMINDER', 'Deadline Reminder', 'Reminder for job application deadline', 'Your job application for {job_title} at {company_name} is due in {days} days.'),
('INTERVIEW_REMINDER', 'Interview Reminder', 'Reminder for upcoming interview', 'You have an interview for {job_title} at {company_name} in {hours} hours.'),
('STATUS_UPDATE', 'Status Update', 'Job status update notification', 'Your application status for {job_title} at {company_name} has been updated to {status}.'),
('SYSTEM', 'System Notification', 'System-generated notification', '{message}'),
('EMAIL_SENT', 'Email Sent', 'Email notification sent', 'Email notification has been sent successfully.');
```

#### Notification Priorities Data
```sql
INSERT INTO notification_priorities (name, display_name, level, color, description) VALUES
('LOW', 'Low', 1, '#6B7280', 'Low priority notification'),
('MEDIUM', 'Medium', 2, '#3B82F6', 'Medium priority notification'),
('HIGH', 'High', 3, '#F59E0B', 'High priority notification'),
('URGENT', 'Urgent', 4, '#EF4444', 'Urgent priority notification');
```

### Initial Skills Data
```sql
INSERT INTO skills (name, category, created_by) VALUES
('Java', 'PROGRAMMING', 1),
('Spring Boot', 'FRAMEWORK', 1),
('React', 'FRAMEWORK', 1),
('TypeScript', 'PROGRAMMING', 1),
('MySQL', 'DATABASE', 1),
('Docker', 'TOOL', 1),
('Git', 'TOOL', 1),
('English', 'LANGUAGE', 1),
('Communication', 'SOFT_SKILL', 1),
('Problem Solving', 'SOFT_SKILL', 1);
```

### Sample Company Data
```sql
INSERT INTO companies (name, website, industry, size, location, created_by) VALUES
('Google', 'https://google.com', 'Technology', 'LARGE', 'Mountain View, CA', 1),
('Microsoft', 'https://microsoft.com', 'Technology', 'LARGE', 'Redmond, WA', 1),
('Amazon', 'https://amazon.com', 'E-commerce', 'LARGE', 'Seattle, WA', 1),
('Netflix', 'https://netflix.com', 'Entertainment', 'LARGE', 'Los Gatos, CA', 1),
('Spotify', 'https://spotify.com', 'Music', 'MEDIUM', 'Stockholm, Sweden', 1);
```

## üöÄ Database Migration Strategy

### Version Control
- **Liquibase**: Database migration tool v·ªõi XML/JSON/YAML support
- **Change Sets**: Atomic database changes
- **Rollback Support**: Automatic rollback capabilities
- **Context Support**: Environment-specific changes

### Migration Files Structure
```
src/main/resources/db/changelog/
‚îú‚îÄ‚îÄ db.changelog-master.xml
‚îú‚îÄ‚îÄ changesets/
‚îÇ   ‚îú‚îÄ‚îÄ 001-create-lookup-tables.xml
‚îÇ   ‚îú‚îÄ‚îÄ 002-create-users-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 003-create-companies-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 004-create-jobs-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 005-create-skills-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 006-create-relationships.xml
‚îÇ   ‚îú‚îÄ‚îÄ 007-create-interviews-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 008-create-resumes-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 009-create-attachments-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 010-create-notifications-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 011-create-sessions-table.xml
‚îÇ   ‚îú‚îÄ‚îÄ 012-create-audit-logs-table.xml
‚îÇ   ‚îî‚îÄ‚îÄ 013-insert-initial-data.xml
‚îî‚îÄ‚îÄ rollback/
    ‚îú‚îÄ‚îÄ rollback-001.xml
    ‚îî‚îÄ‚îÄ rollback-002.xml
```

## üîß Database Configuration

### Application Properties
```yaml
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/jobtracker?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
    username: ${DB_USERNAME:jobtracker}
    password: ${DB_PASSWORD:password}
    driver-class-name: com.mysql.cj.jdbc.Driver
    hikari:
      maximum-pool-size: 20
      minimum-idle: 5
      connection-timeout: 30000
      idle-timeout: 600000
      max-lifetime: 1800000
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQL8Dialect
        format_sql: true
        use_sql_comments: true
        jdbc:
          batch_size: 25
        order_inserts: true
        order_updates: true
        batch_versioned_data: true
  
  liquibase:
    enabled: true
    change-log: classpath:db/changelog/db.changelog-master.xml
    contexts: default
```

## üìà Performance Monitoring

### Query Performance
- **Slow Query Log**: MySQL slow query logging
- **EXPLAIN**: Query execution plan analysis
- **Index Usage**: Monitor index effectiveness
- **Connection Pool**: HikariCP metrics

### Database Metrics
- **Connection Count**: Active/idle connections
- **Query Execution Time**: Average response time
- **Lock Wait Time**: Deadlock detection
- **Buffer Pool Hit Rate**: Cache efficiency

## üîí Security Considerations

### Data Protection
- **Encryption at Rest**: MySQL encryption
- **Encryption in Transit**: SSL/TLS connections
- **Password Hashing**: BCrypt with salt
- **SQL Injection Prevention**: JPA/Hibernate parameterized queries

### Access Control
- **Database User**: Limited privileges
- **Connection Security**: IP whitelisting
- **Audit Logging**: All database changes tracked
- **Backup Encryption**: Encrypted backups

## üìä Audit Strategy Summary

### ‚úÖ **FULL AUDIT FIELDS** (created_by, updated_by, created_at, updated_at):
- **All Lookup Tables** (11 b·∫£ng): roles, permissions, job_statuses, job_types, priorities, experience_levels, interview_types, interview_statuses, interview_results, notification_types, notification_priorities
- **Core Business Entities**: users, companies, jobs, skills, interviews, resumes, attachments

### ‚ö†Ô∏è **PARTIAL AUDIT FIELDS** (created_by, created_at, updated_at):
- **Junction Tables**: user_skills, job_skills, job_resumes
- **L√Ω do**: Junction tables √≠t khi update, kh√¥ng c·∫ßn track updated_by

### üîß **SYSTEM TABLES** (created_at, updated_at only):
- **System Generated**: notifications, user_sessions, audit_logs
- **L√Ω do**: System generated, kh√¥ng c·∫ßn user tracking

### üóëÔ∏è **SOFT DELETE STRATEGY - CHI TI·∫æT L√ù DO:**

#### **1. deleted_at (TIMESTAMP) - Business Entities & Lookup Tables:**
**B·∫£ng s·ª≠ d·ª•ng**: 
- **Business Entities**: users, companies, jobs, skills, interviews, resumes, attachments
- **Lookup Tables**: roles, permissions, job_statuses, job_types, priorities, experience_levels, interview_types, interview_statuses, interview_results, notification_types, notification_priorities

**L√Ω do s·ª≠ d·ª•ng TIMESTAMP:**

**Cho Business Entities:**
- **Compliance Requirements**: C·∫ßn bi·∫øt ch√≠nh x√°c khi n√†o d·ªØ li·ªáu b·ªã x√≥a
- **Audit Trail**: Tracking th·ªùi gian x√≥a cho forensic analysis
- **Legal Requirements**: GDPR, SOX y√™u c·∫ßu timestamp cho data deletion
- **Reporting**: C√≥ th·ªÉ t·∫°o reports v·ªÅ data lifecycle
- **Recovery**: C√≥ th·ªÉ restore data trong kho·∫£ng th·ªùi gian c·ª• th·ªÉ

**Cho Lookup Tables (Admin Management):**
- **Admin Control**: Admin c√≥ th·ªÉ th√™m/s·ª≠a/x√≥a danh m·ª•c
- **Data Integrity**: Kh√¥ng th·ªÉ x√≥a hard n·∫øu c√≤n records ƒëang s·ª≠ d·ª•ng
- **Audit Trail**: Tracking khi n√†o admin thay ƒë·ªïi danh m·ª•c
- **Rollback Capability**: C√≥ th·ªÉ restore danh m·ª•c ƒë√£ x√≥a
- **Historical Data**: Gi·ªØ l·∫°i l·ªãch s·ª≠ thay ƒë·ªïi danh m·ª•c
- **Business Continuity**: Tr√°nh break existing data khi x√≥a danh m·ª•c

**V√≠ d·ª• use cases:**

**Business Entities:**
```sql
-- T√¨m users b·ªã x√≥a trong th√°ng n√†y
SELECT * FROM users 
WHERE deleted_at BETWEEN '2024-01-01' AND '2024-01-31';

-- Audit report: Ai ƒë√£ x√≥a job n√†o khi n√†o
SELECT j.title, u.email, j.deleted_at 
FROM jobs j 
JOIN users u ON j.updated_by = u.id 
WHERE j.deleted_at IS NOT NULL;
```

**Lookup Tables (Admin Management):**
```sql
-- T√¨m job statuses ƒë√£ b·ªã admin x√≥a
SELECT * FROM job_statuses 
WHERE deleted_at IS NOT NULL;

-- Audit: Admin n√†o ƒë√£ x√≥a role n√†o khi n√†o
SELECT r.name, u.email, r.deleted_at 
FROM roles r 
JOIN users u ON r.updated_by = u.id 
WHERE r.deleted_at IS NOT NULL;

-- Ki·ªÉm tra xem c√≥ jobs n√†o ƒëang d√πng status ƒë√£ b·ªã x√≥a
SELECT j.title, js.name as status_name, js.deleted_at
FROM jobs j 
JOIN job_statuses js ON j.status_id = js.id 
WHERE js.deleted_at IS NOT NULL;

-- Restore job status ƒë√£ b·ªã x√≥a nh·∫ßm
UPDATE job_statuses 
SET deleted_at = NULL, updated_at = NOW() 
WHERE id = ? AND deleted_at IS NOT NULL;
```

#### **2. is_deleted (BOOLEAN) - Junction Tables:**
**B·∫£ng s·ª≠ d·ª•ng**: user_skills, job_skills, job_resumes

**L√Ω do s·ª≠ d·ª•ng BOOLEAN:**
- **Performance**: Boolean queries nhanh h∆°n timestamp comparisons
- **Simplicity**: Ch·ªâ c·∫ßn bi·∫øt c√≥ b·ªã x√≥a hay kh√¥ng, kh√¥ng c·∫ßn khi n√†o
- **Index Efficiency**: Boolean index nh·ªè h∆°n timestamp index
- **Query Optimization**: `WHERE is_deleted = FALSE` nhanh h∆°n `WHERE deleted_at IS NULL`
- **Memory Usage**: 1 byte vs 8 bytes cho timestamp

**V√≠ d·ª• use cases:**
```sql
-- T√¨m skills active c·ªßa user
SELECT s.name FROM user_skills us
JOIN skills s ON us.skill_id = s.id
WHERE us.user_id = ? AND us.is_deleted = FALSE;

-- Performance: Boolean check nhanh h∆°n
-- ‚ùå Ch·∫≠m: WHERE deleted_at IS NULL
-- ‚úÖ Nhanh: WHERE is_deleted = FALSE
```

#### **3. No Soft Delete - System Tables:**
**B·∫£ng s·ª≠ d·ª•ng**: notifications, user_sessions, audit_logs

**L√Ω do KH√îNG c·∫ßn soft delete:**
- **Temporary Data**: D·ªØ li·ªáu t·∫°m th·ªùi, c√≥ th·ªÉ x√≥a hard
- **Performance**: Tr√°nh overhead c·ªßa soft delete cho data volume l·ªõn
- **Storage**: Ti·∫øt ki·ªám storage space
- **Cleanup**: C√≥ th·ªÉ x√≥a old data m√† kh√¥ng ·∫£nh h∆∞·ªüng business logic
- **System Generated**: Kh√¥ng ph·∫£i user data, √≠t r·ªßi ro

**V√≠ d·ª• use cases:**
```sql
-- X√≥a notifications c≈© h∆°n 30 ng√†y
DELETE FROM notifications 
WHERE created_at < DATE_SUB(NOW(), INTERVAL 30 DAY);

-- X√≥a expired sessions
DELETE FROM user_sessions 
WHERE expires_at < NOW();

-- Archive old audit logs
DELETE FROM audit_logs 
WHERE created_at < DATE_SUB(NOW(), INTERVAL 1 YEAR);
```

### üìä **SOFT DELETE STRATEGY COMPARISON:**

| **Strategy** | **Tables** | **Field** | **Size** | **Performance** | **Use Case** |
|--------------|------------|-----------|----------|-----------------|--------------|
| **deleted_at** | Business Entities + Lookup Tables | TIMESTAMP | 8 bytes | Medium | Compliance, Audit, Admin Management |
| **is_deleted** | Junction Tables | BOOLEAN | 1 byte | Fast | Performance, Simple |
| **No Soft Delete** | System Tables | None | 0 bytes | Fastest | Temporary Data |

### üîç **CHI TI·∫æT IMPLEMENTATION:**

#### **1. Business Entities & Lookup Tables v·ªõi deleted_at:**

**Business Entities:**
```sql
-- Users table
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
    deleted_at TIMESTAMP NULL,
    
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_email_active (email, deleted_at) -- Composite index
);

-- Query active users
SELECT * FROM users WHERE deleted_at IS NULL;

-- Query deleted users
SELECT * FROM users WHERE deleted_at IS NOT NULL;
```

**Lookup Tables (Admin Management):**
```sql
-- Job Statuses table
CREATE TABLE job_statuses (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(50) NOT NULL UNIQUE,
    display_name VARCHAR(100) NOT NULL,
    -- ... other fields
    deleted_at TIMESTAMP NULL,
    
    INDEX idx_deleted_at (deleted_at),
    INDEX idx_name_active (name, deleted_at) -- Composite index
);

-- Query active job statuses
SELECT * FROM job_statuses WHERE deleted_at IS NULL;

-- Query deleted job statuses (admin can restore)
SELECT * FROM job_statuses WHERE deleted_at IS NOT NULL;

-- Check if any jobs are using deleted status
SELECT COUNT(*) FROM jobs j 
JOIN job_statuses js ON j.status_id = js.id 
WHERE js.deleted_at IS NOT NULL;
```

#### **2. Junction Tables v·ªõi is_deleted:**
```sql
-- User Skills table
CREATE TABLE user_skills (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    skill_id BIGINT NOT NULL,
    -- ... other fields
    is_deleted BOOLEAN DEFAULT FALSE,
    
    INDEX idx_user_skill_active (user_id, skill_id, is_deleted),
    INDEX idx_is_deleted (is_deleted)
);

-- Query active skills
SELECT * FROM user_skills WHERE is_deleted = FALSE;

-- Performance: Boolean check
-- ‚úÖ Fast: WHERE is_deleted = FALSE
-- ‚ùå Slow: WHERE deleted_at IS NULL
```

#### **3. System Tables kh√¥ng soft delete:**
```sql
-- Notifications table
CREATE TABLE notifications (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    message TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    -- No soft delete fields
    
    INDEX idx_user_created (user_id, created_at)
);

-- Direct hard delete
DELETE FROM notifications WHERE created_at < DATE_SUB(NOW(), INTERVAL 30 DAY);
```

### üéØ **QUY·∫æT ƒê·ªäNH STRATEGY:**

#### **Khi n√†o d√πng deleted_at:**
- ‚úÖ **User data** c·∫ßn compliance
- ‚úÖ **Business entities** c·∫ßn audit trail
- ‚úÖ **Financial data** c·∫ßn timestamp
- ‚úÖ **Personal data** theo GDPR
- ‚úÖ **Lookup Tables** admin qu·∫£n l√Ω danh m·ª•c
- ‚úÖ **Master data** c·∫ßn rollback capability
- ‚úÖ **Reference data** c√≥ th·ªÉ restore

#### **Khi n√†o d√πng is_deleted:**
- ‚úÖ **Junction tables** v·ªõi volume l·ªõn
- ‚úÖ **Performance critical** queries
- ‚úÖ **Simple boolean** logic ƒë·ªß
- ‚úÖ **Temporary relationships**

#### **Khi n√†o kh√¥ng c·∫ßn soft delete:**
- ‚úÖ **System generated** data
- ‚úÖ **Temporary data** c√≥ lifecycle ng·∫Øn
- ‚úÖ **Log data** c√≥ th·ªÉ archive
- ‚úÖ **Cache data** c√≥ th·ªÉ rebuild

### üéØ **T·∫†I SAO LOOKUP TABLES C·∫¶N SOFT DELETE:**

#### **1. Admin Management Requirements:**
```sql
-- Admin c√≥ th·ªÉ th√™m job status m·ªõi
INSERT INTO job_statuses (name, display_name, color) 
VALUES ('On Hold', 'On Hold', '#FFA500');

-- Admin c√≥ th·ªÉ x√≥a job status (soft delete)
UPDATE job_statuses 
SET deleted_at = NOW(), updated_by = ? 
WHERE id = ?;

-- Admin c√≥ th·ªÉ restore job status ƒë√£ x√≥a
UPDATE job_statuses 
SET deleted_at = NULL, updated_at = NOW() 
WHERE id = ? AND deleted_at IS NOT NULL;
```

#### **2. Data Integrity Protection:**
```sql
-- Ki·ªÉm tra tr∆∞·ªõc khi x√≥a: C√≥ jobs n√†o ƒëang d√πng status n√†y kh√¥ng?
SELECT COUNT(*) FROM jobs 
WHERE status_id = ? AND deleted_at IS NULL;

-- N·∫øu c√≥ jobs ƒëang d√πng, kh√¥ng cho ph√©p x√≥a hard
-- Ch·ªâ cho ph√©p soft delete ƒë·ªÉ b·∫£o v·ªá data integrity
```

#### **3. Business Continuity:**
```sql
-- Khi admin x√≥a nh·∫ßm job status
-- C√≥ th·ªÉ restore ngay l·∫≠p t·ª©c m√† kh√¥ng ·∫£nh h∆∞·ªüng existing data
UPDATE job_statuses 
SET deleted_at = NULL 
WHERE name = 'Applied' AND deleted_at IS NOT NULL;

-- Existing jobs v·∫´n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng
SELECT j.title, js.display_name 
FROM jobs j 
JOIN job_statuses js ON j.status_id = js.id 
WHERE j.deleted_at IS NULL;
```

#### **4. Audit Trail cho Admin Actions:**
```sql
-- Track admin actions tr√™n lookup tables
SELECT 
    js.name,
    u.email as admin_email,
    js.deleted_at,
    js.updated_at
FROM job_statuses js
JOIN users u ON js.updated_by = u.id
WHERE js.deleted_at IS NOT NULL
ORDER BY js.deleted_at DESC;
```

#### **5. Rollback Capability:**
```sql
-- Admin c√≥ th·ªÉ rollback to√†n b·ªô changes
UPDATE job_statuses 
SET deleted_at = NULL, updated_at = NOW() 
WHERE deleted_at BETWEEN '2024-01-01' AND '2024-01-31';

-- Ho·∫∑c rollback specific changes
UPDATE job_statuses 
SET deleted_at = NULL 
WHERE id IN (1, 2, 3) AND deleted_at IS NOT NULL;
```

### üìà **PERFORMANCE OPTIMIZATIONS**:
- **Junction tables** d√πng `is_deleted` ƒë·ªÉ tr√°nh NULL checks
- **Business entities** d√πng `deleted_at` ƒë·ªÉ c√≥ timestamp
- **System tables** kh√¥ng c·∫ßn soft delete ƒë·ªÉ tr√°nh overhead
- **Proper indexing** cho t·∫•t c·∫£ audit fields

### üîí **COMPLIANCE BENEFITS**:
- **Complete audit trail** cho user actions
- **Data lineage tracking** cho business entities
- **Regulatory compliance** (GDPR, SOX, etc.)
- **Forensic analysis** capabilities

## üîó **CHI TI·∫æT QUAN H·ªÜ GI·ªÆA C√ÅC B·∫¢NG**

### üìã **1. ROLE-BASED ACCESS CONTROL (RBAC)**

#### **1.1. Roles ‚Üî Users (One-to-Many)**
```sql
-- Quan h·ªá: 1 role c√≥ th·ªÉ c√≥ nhi·ªÅu users
users.role_id ‚Üí roles.id
```
- **M·ª•c ƒë√≠ch**: Ph√¢n quy·ªÅn ng∆∞·ªùi d√πng (ADMIN, USER, MANAGER)
- **Cardinality**: 1:N (1 role ‚Üí N users)
- **Foreign Key**: `users.role_id` ‚Üí `roles.id`
- **Constraint**: `ON DELETE RESTRICT` (kh√¥ng cho x√≥a role n·∫øu c√≤n users)

#### **1.2. Roles ‚Üî Permissions (Many-to-Many)**
```sql
-- Junction table: role_permissions
CREATE TABLE role_permissions (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    role_id BIGINT NOT NULL,
    permission_id BIGINT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by BIGINT,
    
    FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE,
    FOREIGN KEY (permission_id) REFERENCES permissions(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    UNIQUE KEY uk_role_permission (role_id, permission_id),
    INDEX idx_role_id (role_id),
    INDEX idx_permission_id (permission_id)
);
```
- **M·ª•c ƒë√≠ch**: Ph√¢n quy·ªÅn chi ti·∫øt (CREATE, READ, UPDATE, DELETE)
- **Cardinality**: M:N (1 role ‚Üí N permissions, 1 permission ‚Üí N roles)
- **V√≠ d·ª•**: ADMIN role c√≥ t·∫•t c·∫£ permissions, USER role ch·ªâ c√≥ READ permissions

### üìã **2. JOB MANAGEMENT RELATIONSHIPS**

#### **2.1. Users ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking jobs c·ªßa t·ª´ng user
- **Cardinality**: 1:N (1 user ‚Üí N jobs)
- **Foreign Key**: `jobs.user_id` ‚Üí `users.id`
- **Constraint**: `ON DELETE CASCADE` (x√≥a user th√¨ x√≥a jobs)

#### **2.2. Companies ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 company c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.company_id ‚Üí companies.id
```
- **M·ª•c ƒë√≠ch**: Tracking jobs c·ªßa t·ª´ng company
- **Cardinality**: 1:N (1 company ‚Üí N jobs)
- **Foreign Key**: `jobs.company_id` ‚Üí `companies.id`
- **Constraint**: `ON DELETE RESTRICT` (kh√¥ng cho x√≥a company n·∫øu c√≤n jobs)

#### **2.3. Job Statuses ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 status c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.status_id ‚Üí job_statuses.id
```
- **M·ª•c ƒë√≠ch**: Tracking tr·∫°ng th√°i jobs (APPLIED, INTERVIEW, OFFER, REJECTED)
- **Cardinality**: 1:N (1 status ‚Üí N jobs)
- **Foreign Key**: `jobs.status_id` ‚Üí `job_statuses.id`

#### **2.4. Job Types ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 type c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.job_type_id ‚Üí job_types.id
```
- **M·ª•c ƒë√≠ch**: Ph√¢n lo·∫°i jobs (FULL_TIME, PART_TIME, CONTRACT, INTERNSHIP)
- **Cardinality**: 1:N (1 type ‚Üí N jobs)
- **Foreign Key**: `jobs.job_type_id` ‚Üí `job_types.id`

#### **2.5. Priorities ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 priority c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.priority_id ‚Üí priorities.id
```
- **M·ª•c ƒë√≠ch**: ƒê·ªô ∆∞u ti√™n jobs (HIGH, MEDIUM, LOW)
- **Cardinality**: 1:N (1 priority ‚Üí N jobs)
- **Foreign Key**: `jobs.priority_id` ‚Üí `priorities.id`

#### **2.6. Experience Levels ‚Üî Jobs (One-to-Many)**
```sql
-- Quan h·ªá: 1 level c√≥ th·ªÉ c√≥ nhi·ªÅu jobs
jobs.experience_level_id ‚Üí experience_levels.id
```
- **M·ª•c ƒë√≠ch**: Y√™u c·∫ßu kinh nghi·ªám (ENTRY, MID, SENIOR, LEAD)
- **Cardinality**: 1:N (1 level ‚Üí N jobs)
- **Foreign Key**: `jobs.experience_level_id` ‚Üí `experience_levels.id`

### üìã **3. SKILLS MANAGEMENT RELATIONSHIPS**

#### **3.1. Users ‚Üî Skills (Many-to-Many)**
```sql
-- Junction table: user_skills
CREATE TABLE user_skills (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    user_id BIGINT NOT NULL,
    skill_id BIGINT NOT NULL,
    proficiency_level VARCHAR(50) NOT NULL,
    years_of_experience DECIMAL(3,1),
    is_verified BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT,
    is_deleted BOOLEAN DEFAULT FALSE,
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    UNIQUE KEY uk_user_skill (user_id, skill_id),
    INDEX idx_user_id (user_id),
    INDEX idx_skill_id (skill_id),
    INDEX idx_proficiency_level (proficiency_level)
);
```
- **M·ª•c ƒë√≠ch**: Tracking skills c·ªßa users
- **Cardinality**: M:N (1 user ‚Üí N skills, 1 skill ‚Üí N users)
- **Additional Fields**: proficiency_level, years_of_experience, is_verified

#### **3.2. Jobs ‚Üî Skills (Many-to-Many)**
```sql
-- Junction table: job_skills
CREATE TABLE job_skills (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    job_id BIGINT NOT NULL,
    skill_id BIGINT NOT NULL,
    is_required BOOLEAN DEFAULT TRUE,
    proficiency_level VARCHAR(50),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT,
    is_deleted BOOLEAN DEFAULT FALSE,
    
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    UNIQUE KEY uk_job_skill (job_id, skill_id),
    INDEX idx_job_id (job_id),
    INDEX idx_skill_id (skill_id),
    INDEX idx_is_required (is_required)
);
```
- **M·ª•c ƒë√≠ch**: Tracking skills y√™u c·∫ßu cho jobs
- **Cardinality**: M:N (1 job ‚Üí N skills, 1 skill ‚Üí N jobs)
- **Additional Fields**: is_required, proficiency_level

### üìã **4. INTERVIEW MANAGEMENT RELATIONSHIPS**

#### **4.1. Jobs ‚Üî Interviews (One-to-Many)**
```sql
-- Quan h·ªá: 1 job c√≥ th·ªÉ c√≥ nhi·ªÅu interviews
interviews.job_id ‚Üí jobs.id
```
- **M·ª•c ƒë√≠ch**: Tracking interviews c·ªßa jobs
- **Cardinality**: 1:N (1 job ‚Üí N interviews)
- **Foreign Key**: `interviews.job_id` ‚Üí `jobs.id`

#### **4.2. Users ‚Üî Interviews (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu interviews
interviews.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking interviews c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N interviews)
- **Foreign Key**: `interviews.user_id` ‚Üí `users.id`

#### **4.3. Interview Types ‚Üî Interviews (One-to-Many)**
```sql
-- Quan h·ªá: 1 type c√≥ th·ªÉ c√≥ nhi·ªÅu interviews
interviews.interview_type_id ‚Üí interview_types.id
```
- **M·ª•c ƒë√≠ch**: Ph√¢n lo·∫°i interviews (PHONE, VIDEO, ONSITE, TECHNICAL)
- **Cardinality**: 1:N (1 type ‚Üí N interviews)
- **Foreign Key**: `interviews.interview_type_id` ‚Üí `interview_types.id`

#### **4.4. Interview Statuses ‚Üî Interviews (One-to-Many)**
```sql
-- Quan h·ªá: 1 status c√≥ th·ªÉ c√≥ nhi·ªÅu interviews
interviews.interview_status_id ‚Üí interview_statuses.id
```
- **M·ª•c ƒë√≠ch**: Tr·∫°ng th√°i interviews (SCHEDULED, COMPLETED, CANCELLED)
- **Cardinality**: 1:N (1 status ‚Üí N interviews)
- **Foreign Key**: `interviews.interview_status_id` ‚Üí `interview_statuses.id`

#### **4.5. Interview Results ‚Üî Interviews (One-to-Many)**
```sql
-- Quan h·ªá: 1 result c√≥ th·ªÉ c√≥ nhi·ªÅu interviews
interviews.interview_result_id ‚Üí interview_results.id
```
- **M·ª•c ƒë√≠ch**: K·∫øt qu·∫£ interviews (PASSED, FAILED, PENDING)
- **Cardinality**: 1:N (1 result ‚Üí N interviews)
- **Foreign Key**: `interviews.interview_result_id` ‚Üí `interview_results.id`

### üìã **5. RESUME MANAGEMENT RELATIONSHIPS**

#### **5.1. Users ‚Üî Resumes (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu resumes
resumes.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking resumes c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N resumes)
- **Foreign Key**: `resumes.user_id` ‚Üí `users.id`

#### **5.2. Jobs ‚Üî Resumes (Many-to-Many)**
```sql
-- Junction table: job_resumes
CREATE TABLE job_resumes (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    job_id BIGINT NOT NULL,
    resume_id BIGINT NOT NULL,
    is_primary BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_by BIGINT,
    is_deleted BOOLEAN DEFAULT FALSE,
    
    FOREIGN KEY (job_id) REFERENCES jobs(id) ON DELETE CASCADE,
    FOREIGN KEY (resume_id) REFERENCES resumes(id) ON DELETE CASCADE,
    FOREIGN KEY (created_by) REFERENCES users(id) ON DELETE SET NULL,
    
    UNIQUE KEY uk_job_resume (job_id, resume_id),
    INDEX idx_job_id (job_id),
    INDEX idx_resume_id (resume_id),
    INDEX idx_is_primary (is_primary)
);
```
- **M·ª•c ƒë√≠ch**: Tracking resumes ƒë∆∞·ª£c s·ª≠ d·ª•ng cho jobs
- **Cardinality**: M:N (1 job ‚Üí N resumes, 1 resume ‚Üí N jobs)
- **Additional Fields**: is_primary (resume ch√≠nh cho job)

### üìã **6. NOTIFICATION SYSTEM RELATIONSHIPS**

#### **6.1. Users ‚Üî Notifications (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu notifications
notifications.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking notifications c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N notifications)
- **Foreign Key**: `notifications.user_id` ‚Üí `users.id`

#### **6.2. Notification Types ‚Üî Notifications (One-to-Many)**
```sql
-- Quan h·ªá: 1 type c√≥ th·ªÉ c√≥ nhi·ªÅu notifications
notifications.notification_type_id ‚Üí notification_types.id
```
- **M·ª•c ƒë√≠ch**: Ph√¢n lo·∫°i notifications (JOB_APPLICATION, INTERVIEW_REMINDER, OFFER_RECEIVED)
- **Cardinality**: 1:N (1 type ‚Üí N notifications)
- **Foreign Key**: `notifications.notification_type_id` ‚Üí `notification_types.id`

#### **6.3. Notification Priorities ‚Üî Notifications (One-to-Many)**
```sql
-- Quan h·ªá: 1 priority c√≥ th·ªÉ c√≥ nhi·ªÅu notifications
notifications.notification_priority_id ‚Üí notification_priorities.id
```
- **M·ª•c ƒë√≠ch**: ƒê·ªô ∆∞u ti√™n notifications (HIGH, MEDIUM, LOW)
- **Cardinality**: 1:N (1 priority ‚Üí N notifications)
- **Foreign Key**: `notifications.notification_priority_id` ‚Üí `notification_priorities.id`

### üìã **7. SYSTEM TABLES RELATIONSHIPS**

#### **7.1. Users ‚Üî User Sessions (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu sessions
user_sessions.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking active sessions c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N sessions)
- **Foreign Key**: `user_sessions.user_id` ‚Üí `users.id`

#### **7.2. Users ‚Üî Audit Logs (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu audit logs
audit_logs.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking actions c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N audit logs)
- **Foreign Key**: `audit_logs.user_id` ‚Üí `users.id`

### üìã **8. ATTACHMENT RELATIONSHIPS**

#### **8.1. Users ‚Üî Attachments (One-to-Many)**
```sql
-- Quan h·ªá: 1 user c√≥ th·ªÉ c√≥ nhi·ªÅu attachments
attachments.user_id ‚Üí users.id
```
- **M·ª•c ƒë√≠ch**: Tracking attachments c·ªßa users
- **Cardinality**: 1:N (1 user ‚Üí N attachments)
- **Foreign Key**: `attachments.user_id` ‚Üí `users.id`

#### **8.2. Jobs ‚Üî Attachments (One-to-Many)**
```sql
-- Quan h·ªá: 1 job c√≥ th·ªÉ c√≥ nhi·ªÅu attachments
attachments.job_id ‚Üí jobs.id
```
- **M·ª•c ƒë√≠ch**: Tracking attachments c·ªßa jobs
- **Cardinality**: 1:N (1 job ‚Üí N attachments)
- **Foreign Key**: `attachments.job_id` ‚Üí `jobs.id`

## üîÑ **QUAN H·ªÜ T·ªîNG QUAN (ENTITY RELATIONSHIP DIAGRAM)**

### **Core Entities:**
- **users** (trung t√¢m) ‚Üî **jobs**, **resumes**, **interviews**, **notifications**, **attachments**
- **companies** ‚Üî **jobs**
- **jobs** (trung t√¢m) ‚Üî **skills**, **resumes**, **interviews**, **attachments**

### **Lookup Tables:**
- **roles** ‚Üî **users**
- **job_statuses**, **job_types**, **priorities**, **experience_levels** ‚Üî **jobs**
- **interview_types**, **interview_statuses**, **interview_results** ‚Üî **interviews**
- **notification_types**, **notification_priorities** ‚Üî **notifications**

### **Junction Tables:**
- **role_permissions** (roles ‚Üî permissions)
- **user_skills** (users ‚Üî skills)
- **job_skills** (jobs ‚Üî skills)
- **job_resumes** (jobs ‚Üî resumes)

### **System Tables:**
- **user_sessions** ‚Üî **users**
- **audit_logs** ‚Üî **users**

## üÜî **UUID IMPLEMENTATION**

### **T·∫°i sao s·ª≠ d·ª•ng UUID:**
- **Security**: Kh√¥ng th·ªÉ ƒëo√°n ƒë∆∞·ª£c ID ti·∫øp theo
- **Distributed Systems**: C√≥ th·ªÉ t·∫°o ID m√† kh√¥ng c·∫ßn database
- **Microservices**: M·ªói service c√≥ th·ªÉ t·∫°o unique ID
- **Privacy**: Kh√¥ng expose th√¥ng tin v·ªÅ s·ªë l∆∞·ª£ng records

### **UUID vs BIGINT Comparison:**

| **Aspect** | **BIGINT** | **UUID** |
|------------|-------------|----------|
| **Size** | 8 bytes | 16 bytes |
| **Performance** | Faster (sequential) | Slower (random) |
| **Security** | Predictable | Unpredictable |
| **Distributed** | Requires coordination | No coordination needed |
| **Indexing** | Better for range queries | Better for equality queries |

### **UUID Implementation Strategy:**

#### **1. Primary Keys v·ªõi UUID:**
```sql
-- Thay v√¨: id BIGINT PRIMARY KEY AUTO_INCREMENT
-- S·ª≠ d·ª•ng: id CHAR(36) PRIMARY KEY DEFAULT (UUID())

CREATE TABLE users (
    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
);

-- Ho·∫∑c s·ª≠ d·ª•ng BINARY(16) cho performance t·ªët h∆°n
CREATE TABLE users (
    id BINARY(16) PRIMARY KEY DEFAULT (UUID_TO_BIN(UUID())),
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
);
```

#### **2. Foreign Keys v·ªõi UUID:**
```sql
-- Thay v√¨: user_id BIGINT NOT NULL
-- S·ª≠ d·ª•ng: user_id CHAR(36) NOT NULL

CREATE TABLE jobs (
    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),
    user_id CHAR(36) NOT NULL,
    company_id CHAR(36) NOT NULL,
    -- ... other fields
    
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (company_id) REFERENCES companies(id) ON DELETE RESTRICT
);
```

#### **3. Indexing Strategy cho UUID:**
```sql
-- UUID v·ªõi CHAR(36) - d·ªÖ ƒë·ªçc nh∆∞ng ch·∫≠m h∆°n
CREATE INDEX idx_user_id ON jobs(user_id);

-- UUID v·ªõi BINARY(16) - nhanh h∆°n nh∆∞ng kh√≥ ƒë·ªçc
CREATE INDEX idx_user_id ON jobs(user_id);

-- Composite indexes
CREATE INDEX idx_user_status ON jobs(user_id, status_id);
CREATE INDEX idx_user_created ON jobs(user_id, created_at);
```

#### **4. Application Level UUID Generation:**
```java
// Java - Spring Boot
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.UUID)
    private String id;
    
    // ... other fields
}

// Ho·∫∑c manual generation
@Id
@Column(name = "id", columnDefinition = "CHAR(36)")
private String id = UUID.randomUUID().toString();
```

#### **5. Migration Strategy t·ª´ BIGINT sang UUID:**
```sql
-- Step 1: Th√™m c·ªôt UUID m·ªõi
ALTER TABLE users ADD COLUMN uuid CHAR(36) DEFAULT (UUID());

-- Step 2: Populate UUID cho existing records
UPDATE users SET uuid = UUID() WHERE uuid IS NULL;

-- Step 3: T·∫°o foreign key constraints m·ªõi
ALTER TABLE jobs ADD COLUMN user_uuid CHAR(36);
UPDATE jobs j SET user_uuid = (SELECT uuid FROM users u WHERE u.id = j.user_id);

-- Step 4: Drop old constraints v√† columns
ALTER TABLE jobs DROP FOREIGN KEY fk_jobs_user_id;
ALTER TABLE jobs DROP COLUMN user_id;
ALTER TABLE jobs CHANGE user_uuid user_id CHAR(36) NOT NULL;

-- Step 5: Add new foreign key
ALTER TABLE jobs ADD FOREIGN KEY (user_id) REFERENCES users(uuid) ON DELETE CASCADE;
```

### **Performance Considerations:**

#### **1. UUID v·ªõi BINARY(16):**
```sql
-- T·ªët nh·∫•t cho performance
CREATE TABLE users (
    id BINARY(16) PRIMARY KEY DEFAULT (UUID_TO_BIN(UUID())),
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
);

-- Indexes
CREATE INDEX idx_user_email ON users(email);
CREATE INDEX idx_user_created ON users(created_at);
```

#### **2. UUID v·ªõi CHAR(36):**
```sql
-- D·ªÖ ƒë·ªçc v√† debug
CREATE TABLE users (
    id CHAR(36) PRIMARY KEY DEFAULT (UUID()),
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
);
```

#### **3. Hybrid Approach:**
```sql
-- S·ª≠ d·ª•ng BIGINT cho internal, UUID cho external
CREATE TABLE users (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,  -- Internal ID
    uuid CHAR(36) UNIQUE DEFAULT (UUID()), -- External ID
    email VARCHAR(255) NOT NULL UNIQUE,
    -- ... other fields
);
```

### **Best Practices:**

#### **1. Consistent UUID Usage:**
- S·ª≠ d·ª•ng c√πng format UUID (CHAR(36) ho·∫∑c BINARY(16))
- T·∫°o UUID ·ªü application level ƒë·ªÉ control t·ªët h∆°n
- S·ª≠ d·ª•ng UUID v4 (random) cho security

#### **2. Indexing Strategy:**
- Index tr√™n UUID columns cho foreign keys
- Composite indexes cho queries th∆∞·ªùng xuy√™n
- Consider covering indexes cho performance

#### **3. API Design:**
- Expose UUID trong API responses
- S·ª≠ d·ª•ng UUID trong URLs: `/api/users/{uuid}`
- Hide internal BIGINT IDs

#### **4. Security Benefits:**
- Kh√¥ng th·ªÉ enumerate records
- Kh√¥ng th·ªÉ ƒëo√°n ƒë∆∞·ª£c ID ti·∫øp theo
- Better privacy protection
